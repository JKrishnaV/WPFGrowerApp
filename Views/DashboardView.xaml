<UserControl x:Class="WPFGrowerApp.Views.DashboardView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:WPFGrowerApp.Views"
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
             mc:Ignorable="d" 
             d:DesignHeight="600" d:DesignWidth="700">

    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/Styles/Styles.xaml"/>
            </ResourceDictionary.MergedDictionaries>
            
            <!-- Dark Theme Colors -->
            <SolidColorBrush x:Key="DarkCardBackground" Color="#2D2D30"/>
            <SolidColorBrush x:Key="DarkCardBorder" Color="#3F3F46"/>
            <SolidColorBrush x:Key="DarkCardHoverBackground" Color="#3E3E42"/>
            <SolidColorBrush x:Key="DarkCardHoverBorder" Color="#007ACC"/>
            <SolidColorBrush x:Key="DarkTextPrimary" Color="#E0E0E0"/>
            <SolidColorBrush x:Key="DarkTextSecondary" Color="#A0A0A0"/>
            <SolidColorBrush x:Key="DarkAccent" Color="#BB86FC"/>
            <SolidColorBrush x:Key="DarkHeaderBackground" Color="#1E1E1E"/>
            <SolidColorBrush x:Key="DarkMainBackground" Color="#1E1E1E"/>
            
            <!-- Light Theme Colors -->
            <SolidColorBrush x:Key="LightCardBackground" Color="#FFFFFF"/>
            <SolidColorBrush x:Key="LightCardBorder" Color="#CCCCCC"/>
            <SolidColorBrush x:Key="LightCardHoverBackground" Color="#F5F5F5"/>
            <SolidColorBrush x:Key="LightCardHoverBorder" Color="#3F51B5"/>
            <SolidColorBrush x:Key="LightTextPrimary" Color="#212121"/>
            <SolidColorBrush x:Key="LightTextSecondary" Color="#757575"/>
            <SolidColorBrush x:Key="LightAccent" Color="#3F51B5"/>
            <SolidColorBrush x:Key="LightHeaderBackground" Color="#3F51B5"/>
            <SolidColorBrush x:Key="LightMainBackground" Color="#FAFAFA"/>
            
            <!-- Dynamic Theme Resources (will be updated by code-behind) -->
            <SolidColorBrush x:Key="CardBackground" Color="#FFFFFF"/>
            <SolidColorBrush x:Key="CardBorder" Color="#CCCCCC"/>
            <SolidColorBrush x:Key="CardHoverBackground" Color="#F5F5F5"/>
            <SolidColorBrush x:Key="CardHoverBorder" Color="#3F51B5"/>
            <SolidColorBrush x:Key="TextPrimary" Color="#212121"/>
            <SolidColorBrush x:Key="TextSecondary" Color="#757575"/>
            <SolidColorBrush x:Key="AccentColor" Color="#3F51B5"/>
            <SolidColorBrush x:Key="HeaderBackground" Color="#3F51B5"/>
            
            <!-- Enhanced Color Palette -->
            <SolidColorBrush x:Key="PrimaryBlue" Color="#1976D2"/>
            <SolidColorBrush x:Key="PrimaryBlueLight" Color="#E3F2FD"/>
            <SolidColorBrush x:Key="SecondaryGreen" Color="#4CAF50"/>
            <SolidColorBrush x:Key="AccentOrange" Color="#FF6B35"/>
            <SolidColorBrush x:Key="WarningYellow" Color="#FFC107"/>
            <SolidColorBrush x:Key="ErrorRed" Color="#F44336"/>
            <SolidColorBrush x:Key="BackgroundGray" Color="#FAFAFA"/>
            
            <!-- Enhanced Action Card Style -->
            <Style x:Key="EnhancedActionCardStyle" TargetType="materialDesign:Card">
                <Setter Property="Margin" Value="8"/>
                <Setter Property="Padding" Value="0"/>
                <Setter Property="materialDesign:ElevationAssist.Elevation" Value="Dp2"/>
                <Setter Property="MinHeight" Value="140"/>
                <Setter Property="MaxHeight" Value="180"/>
                <Style.Triggers>
                    <Trigger Property="IsMouseOver" Value="True">
                        <Setter Property="materialDesign:ElevationAssist.Elevation" Value="Dp4"/>
                    </Trigger>
                </Style.Triggers>
            </Style>
            
            <!-- Enhanced Action Button Style -->
            <Style x:Key="EnhancedActionButtonStyle" TargetType="Button">
                <Setter Property="Background" Value="Transparent"/>
                <Setter Property="BorderThickness" Value="0"/>
                <Setter Property="Padding" Value="0"/>
                <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                <Setter Property="VerticalContentAlignment" Value="Stretch"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="Button">
                            <Border Background="{TemplateBinding Background}" 
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    CornerRadius="12"
                                    Padding="{TemplateBinding Padding}">
                                <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="{StaticResource PrimaryBlueLight}"/>
                                </Trigger>
                                <Trigger Property="IsPressed" Value="True">
                                    <Setter Property="Background" Value="{StaticResource PrimaryBlue}"/>
                                    <Setter Property="Foreground" Value="White"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
            
            <!-- Icon Style - Theme Aware -->
            <Style x:Key="DashboardIconStyle" TargetType="TextBlock">
                <Setter Property="FontFamily" Value="Segoe UI Emoji"/>
                <Setter Property="FontSize" Value="32"/>
                <Setter Property="Foreground" Value="{DynamicResource AccentColor}"/>
                <Setter Property="HorizontalAlignment" Value="Center"/>
                <Setter Property="VerticalAlignment" Value="Center"/>
                <Setter Property="Margin" Value="0,0,0,10"/>
            </Style>
            
            <!-- Stats Text Style - Theme Aware -->
            <Style x:Key="StatsTextStyle" TargetType="TextBlock">
                <Setter Property="FontFamily" Value="Segoe UI"/>
                <Setter Property="FontSize" Value="24"/>
                <Setter Property="FontWeight" Value="Bold"/>
                <Setter Property="Foreground" Value="{DynamicResource AccentColor}"/>
                <Setter Property="HorizontalAlignment" Value="Center"/>
                <Setter Property="Margin" Value="0,5,0,5"/>
            </Style>
            
            <!-- Card Title Style - Theme Aware -->
            <Style x:Key="CardTitleStyle" TargetType="TextBlock">
                <Setter Property="FontFamily" Value="Segoe UI"/>
                <Setter Property="FontSize" Value="16"/>
                <Setter Property="FontWeight" Value="SemiBold"/>
                <Setter Property="Foreground" Value="{DynamicResource TextPrimary}"/>
                <Setter Property="HorizontalAlignment" Value="Center"/>
                <Setter Property="Margin" Value="0,0,0,10"/>
            </Style>
            
            <!-- Body Text Style - Theme Aware -->
            <Style x:Key="DarkBodyTextStyle" TargetType="TextBlock">
                <Setter Property="FontFamily" Value="Segoe UI"/>
                <Setter Property="FontSize" Value="{DynamicResource ScaledFontSizeNormal}"/>
                <Setter Property="Foreground" Value="{DynamicResource TextPrimary}"/>
            </Style>
            
            <!-- Header Text Style - Theme Aware -->
            <Style x:Key="DarkHeaderTextStyle" TargetType="TextBlock">
                <Setter Property="FontFamily" Value="Segoe UI"/>
                <Setter Property="FontSize" Value="{DynamicResource ScaledFontSizeHeader}"/>
                <Setter Property="FontWeight" Value="SemiBold"/>
                <Setter Property="Foreground" Value="{DynamicResource TextPrimary}"/>
            </Style>
        </ResourceDictionary>
    </UserControl.Resources>
    
    <Grid Margin="15">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        
        <!-- Header - Theme Aware -->
        <Border Grid.Row="0" 
                Background="{DynamicResource HeaderBackground}" 
                Padding="20,15" 
                Margin="0,0,0,20"
                CornerRadius="8"
                BorderBrush="{DynamicResource CardBorder}"
                BorderThickness="0,0,0,2">
            <TextBlock Text="ðŸ“Š Dashboard" 
                        Foreground="White" 
                        FontSize="{DynamicResource ScaledFontSizeHeader}" 
                        FontWeight="SemiBold" 
                        HorizontalAlignment="Center"/>
        </Border>
        
        <!-- Content -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            
            <!-- Welcome Message - Theme Aware -->
                <StackPanel Grid.Row="0" Margin="0,0,0,25">
                <TextBlock Text="Welcome to Berry Farm Management" 
                               Style="{StaticResource DarkHeaderTextStyle}"
                               HorizontalAlignment="Center"/>
                    <TextBlock Text="Manage your growers, receipts, and operations from one central location" 
                               Style="{StaticResource DarkBodyTextStyle}"
                               HorizontalAlignment="Center"
                               Foreground="{DynamicResource TextSecondary}"/>
            </StackPanel>
            
                <!-- Dashboard Cards Grid -->
            <Grid Grid.Row="1">
                <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                
                    <!-- Grower Management Card -->
                    <materialDesign:Card Grid.Row="0" Grid.Column="0" Style="{StaticResource EnhancedActionCardStyle}">
                        <Button Command="{Binding DataContext.NavigateToGrowersCommand, RelativeSource={RelativeSource AncestorType={x:Type Window}}}"
                                Style="{StaticResource EnhancedActionButtonStyle}">
                            <Grid Margin="20">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="60"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                
                                <!-- Icon with background circle -->
                                <Border Grid.Row="0" Width="60" Height="60" 
                                        Background="{StaticResource PrimaryBlue}" CornerRadius="30" 
                                        HorizontalAlignment="Center" VerticalAlignment="Center">
                                    <materialDesign:PackIcon Kind="AccountGroup" 
                                                             Width="32" Height="32" 
                                                             Foreground="White"
                                                             HorizontalAlignment="Center"
                                                             VerticalAlignment="Center"/>
                                </Border>
                                
                                <!-- Title -->
                                <TextBlock Grid.Row="1" Text="Grower Management" 
                                           FontWeight="SemiBold" FontSize="16" 
                                           HorizontalAlignment="Center" Margin="0,15,0,8"/>
                                
                                <!-- Stats -->
                                <TextBlock Grid.Row="2" Text="{Binding TotalGrowers, StringFormat='{}{0:N0}'}" 
                                           FontSize="24" FontWeight="Bold"
                                           Foreground="{StaticResource PrimaryBlue}" 
                                           HorizontalAlignment="Center" Margin="0,0,0,8"/>
                                
                                <!-- Status indicator -->
                                <Border Grid.Row="3" Background="{StaticResource SecondaryGreen}" 
                                        CornerRadius="12" Padding="12,6" HorizontalAlignment="Center"
                                        Margin="0,8,0,0">
                                    <Border.Effect>
                                        <DropShadowEffect Color="Black" Direction="270" ShadowDepth="2" 
                                                        Opacity="0.3" BlurRadius="4"/>
                                    </Border.Effect>
                                    <TextBlock Text="{Binding ActiveGrowers, StringFormat='{}{0:N0} Active'}" 
                                               FontSize="13" FontWeight="Bold" 
                                               Foreground="White"/>
                                </Border>
                            </Grid>
                        </Button>
                    </materialDesign:Card>

                    <!-- Receipt Management Card -->
                    <materialDesign:Card Grid.Row="0" Grid.Column="1" Style="{StaticResource EnhancedActionCardStyle}">
                        <Button Command="{Binding DataContext.NavigateToReceiptsCommand, RelativeSource={RelativeSource AncestorType={x:Type Window}}}"
                                Style="{StaticResource EnhancedActionButtonStyle}">
                            <Grid Margin="20">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="60"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                
                                <!-- Icon with background circle -->
                                <Border Grid.Row="0" Width="60" Height="60" 
                                        Background="{StaticResource SecondaryGreen}" CornerRadius="30" 
                                        HorizontalAlignment="Center" VerticalAlignment="Center">
                                    <materialDesign:PackIcon Kind="FileDocumentOutline" 
                                                             Width="32" Height="32" 
                                                             Foreground="White"
                                                             HorizontalAlignment="Center"
                                                             VerticalAlignment="Center"/>
                                </Border>
                                
                                <!-- Title -->
                                <TextBlock Grid.Row="1" Text="Receipt Management" 
                                           FontWeight="SemiBold" FontSize="16" 
                                           HorizontalAlignment="Center" Margin="0,15,0,8"/>
                                
                                <!-- Stats -->
                                <TextBlock Grid.Row="2" Text="{Binding TotalReceipts, StringFormat='{}{0:N0}'}" 
                                           FontSize="24" FontWeight="Bold"
                                           Foreground="{StaticResource SecondaryGreen}" 
                                           HorizontalAlignment="Center" Margin="0,0,0,8"/>
                                
                                <!-- Status indicator -->
                                <Border Grid.Row="3" Background="{StaticResource AccentOrange}" 
                                        CornerRadius="12" Padding="12,6" HorizontalAlignment="Center"
                                        Margin="0,8,0,0">
                                    <Border.Effect>
                                        <DropShadowEffect Color="Black" Direction="270" ShadowDepth="2" 
                                                        Opacity="0.3" BlurRadius="4"/>
                                    </Border.Effect>
                                    <TextBlock Text="{Binding PendingReceipts, StringFormat='{}{0:N0} Pending'}" 
                                               FontSize="13" FontWeight="Bold" 
                                               Foreground="White"/>
                                </Border>
                            </Grid>
                        </Button>
                    </materialDesign:Card>

                    <!-- Reports Card -->
                    <materialDesign:Card Grid.Row="0" Grid.Column="2" Style="{StaticResource EnhancedActionCardStyle}">
                        <Button Command="{Binding DataContext.NavigateToReportsCommand, RelativeSource={RelativeSource AncestorType={x:Type Window}}}"
                                Style="{StaticResource EnhancedActionButtonStyle}">
                            <Grid Margin="20">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="60"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                
                                <!-- Icon with background circle -->
                                <Border Grid.Row="0" Width="60" Height="60" 
                                        Background="{StaticResource WarningYellow}" CornerRadius="30" 
                                        HorizontalAlignment="Center" VerticalAlignment="Center">
                                    <materialDesign:PackIcon Kind="ChartLine" 
                                                             Width="32" Height="32" 
                                                             Foreground="White"
                                                             HorizontalAlignment="Center"
                                                             VerticalAlignment="Center"/>
                                </Border>
                                
                                <!-- Title -->
                                <TextBlock Grid.Row="1" Text="Reports" 
                                           FontWeight="SemiBold" FontSize="16" 
                                           HorizontalAlignment="Center" Margin="0,15,0,8"/>
                                
                                <!-- Stats -->
                                <TextBlock Grid.Row="2" Text="Analytics" 
                                           FontSize="20" FontWeight="Bold"
                                           Foreground="{StaticResource WarningYellow}" 
                                           HorizontalAlignment="Center" Margin="0,0,0,8"/>
                                
                                <!-- Status indicator -->
                                <Border Grid.Row="3" Background="{StaticResource SecondaryGreen}" 
                                        CornerRadius="12" Padding="12,6" HorizontalAlignment="Center"
                                        Margin="0,8,0,0">
                                    <Border.Effect>
                                        <DropShadowEffect Color="Black" Direction="270" ShadowDepth="2" 
                                                        Opacity="0.3" BlurRadius="4"/>
                                    </Border.Effect>
                                    <TextBlock Text="View &amp; Export" 
                                               FontSize="13" FontWeight="Bold" 
                                               Foreground="White"/>
                                </Border>
                            </Grid>
                        </Button>
                    </materialDesign:Card>

                    <!-- Import Card -->
                    <materialDesign:Card Grid.Row="1" Grid.Column="0" Style="{StaticResource EnhancedActionCardStyle}">
                        <Button Command="{Binding DataContext.NavigateToImportCommand, RelativeSource={RelativeSource AncestorType={x:Type Window}}}"
                                Style="{StaticResource EnhancedActionButtonStyle}">
                            <Grid Margin="20">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="60"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                
                                <!-- Icon with background circle -->
                                <Border Grid.Row="0" Width="60" Height="60" 
                                        Background="{StaticResource AccentOrange}" CornerRadius="30" 
                                        HorizontalAlignment="Center" VerticalAlignment="Center">
                                    <materialDesign:PackIcon Kind="Import" 
                                                             Width="32" Height="32" 
                                                             Foreground="White"
                                                             HorizontalAlignment="Center"
                                                             VerticalAlignment="Center"/>
                                </Border>
                                
                                <!-- Title -->
                                <TextBlock Grid.Row="1" Text="Import" 
                                           FontWeight="SemiBold" FontSize="16" 
                                           HorizontalAlignment="Center" Margin="0,15,0,8"/>
                                
                                <!-- Stats -->
                                <TextBlock Grid.Row="2" Text="{Binding RecentImports, StringFormat='{}{0:N0}'}" 
                                           FontSize="24" FontWeight="Bold"
                                           Foreground="{StaticResource AccentOrange}" 
                                           HorizontalAlignment="Center" Margin="0,0,0,8"/>
                                
                                <!-- Status indicator -->
                                <Border Grid.Row="3" Background="{StaticResource SecondaryGreen}" 
                                        CornerRadius="12" Padding="12,6" HorizontalAlignment="Center"
                                        Margin="0,8,0,0">
                                    <Border.Effect>
                                        <DropShadowEffect Color="Black" Direction="270" ShadowDepth="2" 
                                                        Opacity="0.3" BlurRadius="4"/>
                                    </Border.Effect>
                                    <TextBlock Text="Last 30 Days" 
                                               FontSize="13" FontWeight="Bold" 
                                               Foreground="White"/>
                                </Border>
                            </Grid>
                        </Button>
                    </materialDesign:Card>

                    <!-- Payment Management Card -->
                    <materialDesign:Card Grid.Row="1" Grid.Column="1" Style="{StaticResource EnhancedActionCardStyle}">
                        <Button Command="{Binding DataContext.NavigateToPaymentManagementCommand, RelativeSource={RelativeSource AncestorType={x:Type Window}}}"
                                Style="{StaticResource EnhancedActionButtonStyle}">
                            <Grid Margin="20">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="60"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                
                                <!-- Icon with background circle -->
                                <Border Grid.Row="0" Width="60" Height="60" 
                                        Background="{StaticResource PrimaryBlue}" CornerRadius="30" 
                                        HorizontalAlignment="Center" VerticalAlignment="Center">
                                    <materialDesign:PackIcon Kind="CashMultiple" 
                                                             Width="32" Height="32" 
                                                             Foreground="White"
                                                             HorizontalAlignment="Center"
                                                             VerticalAlignment="Center"/>
                                </Border>
                                
                                <!-- Title -->
                                <TextBlock Grid.Row="1" Text="Payment Management" 
                                           FontWeight="SemiBold" FontSize="16" 
                                           HorizontalAlignment="Center" Margin="0,15,0,8"/>
                                
                                <!-- Stats -->
                                <TextBlock Grid.Row="2" Text="{Binding PendingPayments, StringFormat='{}{0:N0}'}" 
                                           FontSize="24" FontWeight="Bold"
                                           Foreground="{StaticResource PrimaryBlue}" 
                                           HorizontalAlignment="Center" Margin="0,0,0,8"/>
                                
                                <!-- Status indicator -->
                                <Border Grid.Row="3" Background="{StaticResource SecondaryGreen}" 
                                        CornerRadius="12" Padding="12,6" HorizontalAlignment="Center"
                                        Margin="0,8,0,0">
                                    <Border.Effect>
                                        <DropShadowEffect Color="Black" Direction="270" ShadowDepth="2" 
                                                        Opacity="0.3" BlurRadius="4"/>
                                    </Border.Effect>
                                    <TextBlock Text="Manage All Payments" 
                                               FontSize="13" FontWeight="Bold" 
                                               Foreground="White"/>
                                </Border>
                            </Grid>
                        </Button>
                    </materialDesign:Card>

                    <!-- Settings Card -->
                    <materialDesign:Card Grid.Row="1" Grid.Column="2" Style="{StaticResource EnhancedActionCardStyle}">
                        <Button Command="{Binding DataContext.NavigateToSettingsCommand, RelativeSource={RelativeSource AncestorType={x:Type Window}}}"
                                Style="{StaticResource EnhancedActionButtonStyle}">
                            <Grid Margin="20">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="60"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                
                                <!-- Icon with background circle -->
                                <Border Grid.Row="0" Width="60" Height="60" 
                                        Background="{StaticResource WarningYellow}" CornerRadius="30" 
                                        HorizontalAlignment="Center" VerticalAlignment="Center">
                                    <materialDesign:PackIcon Kind="Cog" 
                                                             Width="32" Height="32" 
                                                             Foreground="White"
                                                             HorizontalAlignment="Center"
                                                             VerticalAlignment="Center"/>
                                </Border>
                                
                                <!-- Title -->
                                <TextBlock Grid.Row="1" Text="Settings" 
                                           FontWeight="SemiBold" FontSize="16" 
                                           HorizontalAlignment="Center" Margin="0,15,0,8"/>
                                
                                <!-- Stats -->
                                <TextBlock Grid.Row="2" Text="{Binding TotalProducts, StringFormat='{}{0:N0}'}" 
                                           FontSize="24" FontWeight="Bold"
                                           Foreground="{StaticResource WarningYellow}" 
                                           HorizontalAlignment="Center" Margin="0,0,0,8"/>
                                
                                <!-- Status indicator -->
                                <Border Grid.Row="3" Background="{StaticResource SecondaryGreen}" 
                                        CornerRadius="12" Padding="12,6" HorizontalAlignment="Center"
                                        Margin="0,8,0,0">
                                    <Border.Effect>
                                        <DropShadowEffect Color="Black" Direction="270" ShadowDepth="2" 
                                                        Opacity="0.3" BlurRadius="4"/>
                                    </Border.Effect>
                                    <TextBlock Text="System Config" 
                                               FontSize="13" FontWeight="Bold" 
                                               Foreground="White"/>
                                </Border>
                            </Grid>
                        </Button>
                    </materialDesign:Card>

                </Grid>
                
                <!-- Loading Indicator - Theme Aware -->
                <Grid Grid.Row="1" Background="{DynamicResource CardBackground}" Opacity="0.9" Visibility="{Binding IsLoading, Converter={StaticResource BooleanToVisibilityConverter}}">
                    <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                        <TextBlock Text="Loading dashboard data..." 
                                   Style="{StaticResource DarkBodyTextStyle}" 
                                   HorizontalAlignment="Center"/>
                    </StackPanel>
                </Grid>
            </Grid>
        </ScrollViewer>
    </Grid>
</UserControl>
